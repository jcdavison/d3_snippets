// dimensions of our pie chart
var h=500,w=500,oRadius=w/2,iRadius=50,arc=d3.svg.arc().innerRadius(iRadius).outerRadius(oRadius),dataset=d3.range(6).map(function(e){return Math.floor(Math.random()*50)}),pie=d3.layout.pie(),pieChart=d3.select("#jspiechart").append("svg").attr({width:w,height:h}),color=d3.scale.category10(),wedges=pieChart.selectAll("g").data(pie(dataset)).enter().append("g").attr({"class":"wedge",transform:"translate("+oRadius+", "+oRadius+")"});wedges.append("path").attr({fill:function(e,t){return color(t)},d:arc});var labels=wedges.append("text").attr({transform:function(e){return"translate("+arc.centroid(e)+")"},"text-anchor":"middle"}).text(function(e){return e.value}),getData=function(){var e=d3.range(6).map(function(e){return Math.floor(Math.random()*50)});return e},updatePie=function(){var e=getData();wedges.data(pie(e)).select("path").transition().duration(1e3).ease("bounce").attr({fill:function(e,t){return color(t)},d:arc});labels.data(pie(e)).transition().duration(1e3).attr({transform:function(e){console.log("this is d");console.log(e);return"translate("+arc.centroid(e)+")"},"text-anchor":"middle"}).text(function(e){return e.value})};